version: 0.2

phases:
  pre_build:
    commands:
      - echo "Decrypting Docker password..."
      - DOCKER_PASSWORD=$(aws ssm get-parameter --name DOCKER_PASS --with-decryption --query 'Parameter.Value' --output text)
      - echo "Logging in to Docker Hub..."
      - docker login -u devangkubde88 -p $DOCKER_PASSWORD

  build:
    commands:
      - echo Building Docker image...
      - docker build -t iris-model .
      - echo Build completed on `date`
  post_build:
    commands:
      - echo Build process finished.


